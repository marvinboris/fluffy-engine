{"version":3,"file":"index-809a9b81.js","sources":["../../../resources/ts/src/containers/Auth/Admin/Login/index.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Form, FormGroup, Label, CustomInput, Col } from 'reactstrap';\r\n\r\nimport Error from '../../../../components/Messages/Error';\r\nimport Feedback from '../../../../components/Messages/Feedback';\r\n\r\nimport Input from '../../../../components/UI/Input';\r\nimport Preloader from '../../../../components/UI/Preloaders/Preloader';\r\n\r\nimport { authAdminLogin, setHash } from '../../../../store/actions/auth';\r\n\r\nexport class Login extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        otp: 'email'\r\n    }\r\n\r\n    componentDidMount() { \r\n        document.title = `${this.props.content.cms.pages.auth.pages.admin.login.sign_in} | ${document.head.querySelector('meta[name=\"base-title\"]').content}`;\r\n     }\r\n\r\n    componentDidUpdate() {\r\n        const { auth: { hash }, onSetHash, history } = this.props;\r\n        if (hash) {\r\n            onSetHash(hash);\r\n            history.push('/auth/admin/verify');\r\n        }\r\n    }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault();\r\n        this.props.onAuth(e.target);\r\n    }\r\n\r\n    inputChangeHandler = e => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    render() {\r\n        const { email, password } = this.state;\r\n        const {\r\n            content: {\r\n                cms: {\r\n                    pages: { auth: { pages: { admin: { login } } } }\r\n                }\r\n            },\r\n            auth: { loading, error, message },\r\n            dark = false\r\n        } = this.props;\r\n        let formContent;\r\n\r\n\r\n        const titleContent = <div className=\"text-37 text-700 text-blue\">{login.sign_in_to} <span className=\"text-blue\">{login.admin_panel}</span></div>;\r\n\r\n        formContent = <>\r\n            <Input type=\"text\" icon=\"user\" onChange={this.inputChangeHandler} validation={{ required: true, isEmail: true }} value={email} name=\"email\" required placeholder={login.email_address} />\r\n            <Input type=\"password\" icon=\"lock\" onChange={this.inputChangeHandler} validation={{ required: true }} value={password} name=\"password\" required placeholder={login.password} />\r\n\r\n            <FormGroup className={`ml-2 mt-4 mb-5 d-flex align-items-center text-${dark ? \"light\" : \"dark\"}`}>\r\n                <div className='text-700 pr-4'>{login.otp_method}</div>\r\n                <Label check>\r\n                    <CustomInput type=\"radio\" id=\"sms\" name=\"otp\" value=\"sms\" label={login.sms} disabled inline />\r\n                </Label>\r\n                <Label check>\r\n                    <CustomInput type=\"radio\" id=\"email\" defaultChecked name=\"otp\" value=\"email\" label={login.email} inline />\r\n                </Label>\r\n            </FormGroup>\r\n\r\n            <button className=\"py-3 px-4 btn btn-blue btn-lg btn-block\">{login.sign_in}<i className='fas fa-sign-in-alt' /></button>\r\n        </>;\r\n\r\n        const errors = <Error err={error} />;\r\n        const feedback = <Feedback message={message} />;\r\n        let content = null;\r\n\r\n        if (loading) content = <div className=\"h-100 d-flex justify-content-center align-items-center\"><Preloader /></div>;\r\n        else content = <Form onSubmit={this.submitHandler}>\r\n            {formContent}\r\n        </Form>;\r\n\r\n        return <>\r\n            <div className=\"mb-5 pb-1\">\r\n                {titleContent}\r\n            </div>\r\n            {errors}\r\n            {feedback}\r\n            {content}\r\n        </>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({ ...state });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onAuth: data => dispatch(authAdminLogin(data)),\r\n    onSetHash: hash => dispatch(setHash(hash))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"],"names":["Login","Component","__publicField","name","value","hash","onSetHash","history","email","password","login","loading","error","message","dark","formContent","titleContent","jsxs","jsx","Fragment","Input","FormGroup","Label","CustomInput","errors","Error","feedback","Feedback","content","Preloader","Form","mapStateToProps","state","mapDispatchToProps","dispatch","data","authAdminLogin","setHash","index","connect"],"mappings":"khBAYO,MAAMA,UAAcC,EAAAA,SAAU,CAA9B,kCACHC,EAAA,aAAQ,CACJ,MAAO,GACP,SAAU,GACV,IAAK,OAAA,GAeTA,EAAA,qBAAqB,GAAA,CACjB,EAAE,eAAe,EACZ,KAAA,MAAM,OAAO,EAAE,MAAM,CAAA,GAG9BA,EAAA,0BAA0B,GAAA,CACtB,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAU,EAAE,OAC1B,KAAK,SAAS,CAAE,CAACD,CAAI,EAAGC,CAAO,CAAA,CAAA,GAnBnC,mBAAoB,CAChB,SAAS,MAAQ,GAAG,KAAK,MAAM,QAAQ,IAAI,MAAM,KAAK,MAAM,MAAM,MAAM,aAAa,SAAS,KAAK,cAAc,yBAAyB,EAAE,SAC/I,CAED,oBAAqB,CACX,KAAA,CAAE,KAAM,CAAE,KAAAC,GAAQ,UAAAC,EAAW,QAAAC,GAAY,KAAK,MAChDF,IACAC,EAAUD,CAAI,EACdE,EAAQ,KAAK,oBAAoB,EAEzC,CAYA,QAAS,CACL,KAAM,CAAE,MAAAC,EAAO,SAAAC,GAAa,KAAK,MAC3B,CACF,QAAS,CACL,IAAK,CACD,MAAO,CAAE,KAAM,CAAE,MAAO,CAAE,MAAO,CAAE,MAAAC,CAAQ,CAAA,EAAI,CACnD,CACJ,EACA,KAAM,CAAE,QAAAC,EAAS,MAAAC,EAAO,QAAAC,CAAQ,EAChC,KAAAC,EAAO,EAAA,EACP,KAAK,MACL,IAAAC,EAGJ,MAAMC,EAAeC,EAAC,MAAI,CAAA,UAAU,6BAA8B,SAAA,CAAMP,EAAA,WAAW,IAAEQ,EAAA,OAAA,CAAK,UAAU,YAAa,WAAM,YAAY,CAAO,CAAA,CAAA,EAE1IH,EACIE,EAAAE,EAAA,CAAA,SAAA,CAACD,EAAAE,EAAA,CAAM,KAAK,OAAO,KAAK,OAAO,SAAU,KAAK,mBAAoB,WAAY,CAAE,SAAU,GAAM,QAAS,EAAA,EAAQ,MAAOZ,EAAO,KAAK,QAAQ,SAAQ,GAAC,YAAaE,EAAM,aAAe,CAAA,EACvLQ,EAACE,GAAM,KAAK,WAAW,KAAK,OAAO,SAAU,KAAK,mBAAoB,WAAY,CAAE,SAAU,IAAQ,MAAOX,EAAU,KAAK,WAAW,SAAQ,GAAC,YAAaC,EAAM,QAAU,CAAA,IAE5KW,EAAU,CAAA,UAAW,iDAAiDP,EAAO,QAAU,SACpF,SAAA,CAAAI,EAAC,MAAI,CAAA,UAAU,gBAAiB,SAAAR,EAAM,WAAW,EACjDQ,EAACI,GAAM,MAAK,GACR,WAACC,EAAY,CAAA,KAAK,QAAQ,GAAG,MAAM,KAAK,MAAM,MAAM,MAAM,MAAOb,EAAM,IAAK,SAAQ,GAAC,OAAM,EAAA,CAAC,CAChG,CAAA,EACAQ,EAACI,GAAM,MAAK,GACR,WAACC,EAAY,CAAA,KAAK,QAAQ,GAAG,QAAQ,eAAc,GAAC,KAAK,MAAM,MAAM,QAAQ,MAAOb,EAAM,MAAO,OAAM,EAAA,CAAC,CAC5G,CAAA,CAAA,EACJ,EAEAO,EAAC,SAAO,CAAA,UAAU,0CAA2C,SAAA,CAAMP,EAAA,QAAQQ,EAAC,IAAE,CAAA,UAAU,oBAAqB,CAAA,CAAA,EAAE,CACnH,CAAA,CAAA,EAEA,MAAMM,EAASN,EAACO,EAAM,CAAA,IAAKb,CAAO,CAAA,EAC5Bc,EAAYR,EAAAS,EAAA,CAAS,QAAAd,CAAkB,CAAA,EAC7C,IAAIe,EAAU,KAEV,OAAAjB,EAASiB,IAAW,MAAI,CAAA,UAAU,yDAAyD,SAAAV,EAACW,GAAU,CAAA,CAAE,CAAA,EACvGD,EAAWV,EAAAY,EAAA,CAAK,SAAU,KAAK,cAC/B,SACLf,CAAA,CAAA,EAGIE,EAAAE,EAAA,CAAA,SAAA,CAACD,EAAA,MAAA,CAAI,UAAU,YACV,SACLF,EAAA,EACCQ,EACAE,EACAE,CACL,CAAA,CAAA,CACJ,CACJ,CAEA,MAAMG,EAAkBC,IAAU,CAAE,GAAGA,CAAM,GAEvCC,EAAkCC,IAAA,CACpC,OAAQC,GAAQD,EAASE,EAAeD,CAAI,CAAC,EAC7C,UAAW9B,GAAQ6B,EAASG,EAAQhC,CAAI,CAAC,CAC7C,GAEeiC,EAAAC,EAAQR,EAAiBE,CAAkB,EAAEjC,CAAK"}