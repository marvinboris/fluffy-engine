var j=Object.defineProperty;var v=(n,o,a)=>o in n?j(n,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[o]=a;var p=(n,o,a)=>(v(n,typeof o!="symbol"?o+"":o,a),a);import{w as H,b as P,r as k,u as w,d as m,j as e,L as x}from"./app-e0ea1308.js";import{E as M,F}from"./index-5eba3c64.js";import{F as T}from"./index-378310ce.js";import{P as $,B as A}from"./index-d1db03c0.js";import{I as g}from"./index-6b49fe06.js";import{g as D,p as E,r as I}from"./cms-4d91f211.js";import"./Form-fa3faa35.js";import"./Input-e2587015.js";class O extends k.Component{constructor(){super(...arguments);p(this,"state",{app_name:"",company_name:"",company_logo:null,logo:{},isMounted:!1});p(this,"submitHandler",a=>{a.preventDefault(),this.props.patch(a.target)});p(this,"inputChangeHandler",a=>{const{name:t,value:c,files:s}=a.target;this.setState({[t]:s?s[0]:c})});p(this,"fileUpload",a=>document.getElementById(a).click())}static getDerivedStateFromProps(a,t){if(a.backend.cms.cms&&t.app_name===""){const{backend:{cms:{cms:{global:c}}}}=a;return w(t,{...c})}return t}componentDidMount(){this.props.reset(),this.props.get(),this.setState({isMounted:!0})}componentWillUnmount(){this.props.reset()}render(){const{content:{cms:{pages:{backend:{components:{form:{save:a}},pages:{cms:{icon:t,title:c,global:s,form:i}}}}}},backend:{cms:{loading:d,error:u,message:h,cms:r}},auth:{role:b}}=this.props,{logo:f,app_name:C,company_name:y,company_logo:_}=this.state;this.state.isMounted||(document.title=`${this.props.content.cms.pages.backend.sidebar.menu.cms.global} | ${document.head.querySelector('meta[name="base-title"]').content}`);const N=!!r&&m("div",{className:"row",children:[e("div",{className:"col-lg-9",children:m("div",{className:"row",children:[e("input",{type:"hidden",name:"_method",defaultValue:"PATCH"}),e(g,{type:"text",className:"col-md-6",onChange:this.inputChangeHandler,value:C,name:"app_name",required:!0,label:i.app_name}),e(g,{type:"text",className:"col-md-6",onChange:this.inputChangeHandler,value:y,name:"company_name",required:!0,label:i.company_name}),Object.keys(r.global.logo).map(l=>e(g,{type:"image",className:"col-md-6 col-xl-4",id:"logo-"+l,name:"logo["+l+"]",label:i.logo+"("+l+")",onClick:()=>this.fileUpload("logo-"+l),cms:i,defaultValue:r.global.logo[l],value:f[l],dimensions:"16by9"},"logo-"+l)),e("div",{className:"col-12",style:{marginTop:40},children:m("button",{className:`btn btn-${window.APP_PRIMARY_COLOR}`,children:[a,e("i",{className:"fas fa-save"})]})})]})}),e("div",{className:"col-lg-3",children:e(g,{type:"image",id:"company_logo",name:"company_logo",label:i.company_logo,onClick:()=>this.fileUpload("company_logo"),cms:i,defaultValue:r.global.company_logo,value:_})})]});return m("div",{className:"Cms Global",children:[e($,{title:c,subtitle:s,icon:t,children:e(A,{main:s})}),e(x,{loading:this.state.isMounted&&d,isAuthenticated:!0,children:m("div",{className:"content",children:[e(M,{err:u}),e(F,{message:h}),m(T,{onSubmit:this.submitHandler,icon:t,title:s,link:`/${b}/cms`,innerClassName:"row",children:[e("input",{type:"file",id:"company_logo",name:"company_logo",className:"d-none",onChange:this.inputChangeHandler,accept:".png,.jpg,.jpeg"}),e("input",{type:"file",id:"logo-big",name:"logo[big]",className:"d-none",onChange:this.inputChangeHandler,accept:".png,.jpg,.jpeg"}),e("input",{type:"file",id:"logo-dark",name:"logo[dark]",className:"d-none",onChange:this.inputChangeHandler,accept:".png,.jpg,.jpeg"}),e("input",{type:"file",id:"logo-default",name:"logo[default]",className:"d-none",onChange:this.inputChangeHandler,accept:".png,.jpg,.jpeg"}),e("input",{type:"file",id:"logo-light",name:"logo[light]",className:"d-none",onChange:this.inputChangeHandler,accept:".png,.jpg,.jpeg"}),e("input",{type:"file",id:"logo-named",name:"logo[named]",className:"d-none",onChange:this.inputChangeHandler,accept:".png,.jpg,.jpeg"}),N]})]})})]})}}const R=n=>({...n}),S=n=>({get:()=>n(D()),patch:o=>n(E("global",o)),reset:()=>n(I())}),J=H(P(R,S)(O));export{J as default};
//# sourceMappingURL=Global-d3b1bbce.js.map
