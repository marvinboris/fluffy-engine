{"version":3,"file":"index-8c480223.js","sources":["../../../resources/ts/src/containers/Auth/Admin/Verify/index.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Form, FormGroup } from 'reactstrap';\r\n\r\nimport Error from '../../../../components/Messages/Error';\r\nimport Feedback from '../../../../components/Messages/Feedback';\r\n\r\nimport Input from '../../../../components/UI/Input';\r\n\r\nimport Preloader from '../../../../components/UI/Preloaders/Preloader';\r\n\r\nimport { authAdminVerify, resendCode, setHash } from '../../../../store/actions/auth';\r\n\r\nexport class Verify extends Component {\r\n    state = {\r\n        code: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { auth: { hash }, history } = this.props;\r\n        if (!hash) history.push('/auth/admin/login');\r\n        document.title = `${this.props.content.cms.pages.auth.pages.admin.verify.verification_code} | ${document.head.querySelector('meta[name=\"base-title\"]').content}`;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { onSetHash } = this.props;\r\n        onSetHash(null);\r\n    }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault();\r\n        this.props.onAuth(e.target);\r\n    }\r\n\r\n    inputChangeHandler = e => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    render() {\r\n        const { code } = this.state;\r\n        const {\r\n            content: {\r\n                cms: {\r\n                    pages: { auth: { psges: { admin: { verify: { enter, verification_code, didnt_receive_code, resend, continue: continue_ } } } } }\r\n                }\r\n            },\r\n            auth: { hash, loading, error, message },\r\n            onResendCode,\r\n        } = this.props;\r\n        let formContent;\r\n\r\n        const titleContent = <div className=\"text-37 text-700 text-blue\">{enter} <span className=\"text-blue\">{verification_code}</span></div>;\r\n\r\n        formContent = <>\r\n            <Input type=\"text\" icon='code' onChange={this.inputChangeHandler} value={code} name=\"code\" required placeholder={verification_code} />\r\n            <input type=\"hidden\" name=\"hash\" value={hash} />\r\n            <FormGroup className=\"ml-2 mb-5 mt-4\">\r\n                <p className=\"text-dark text-right\">{didnt_receive_code}? <strong className=\"text-blue\" style={{ cursor: 'pointer' }} onClick={() => onResendCode(hash)}>{resend}</strong></p>\r\n            </FormGroup>\r\n\r\n            <button className=\"py-3 px-4 btn btn-blue btn-lg btn-block\">{continue_}<i className='fas fa-sign-in-alt' /></button>\r\n        </>;\r\n\r\n\r\n        const errors = <Error err={error} />;\r\n        const feedback = <Feedback message={message} />;\r\n        let content = null;\r\n\r\n        if (loading) content = <div className=\"h-100 d-flex justify-content-center align-items-center\"><Preloader /></div>;\r\n        else content = <Form onSubmit={this.submitHandler}>\r\n            {formContent}\r\n        </Form>;\r\n\r\n        return <>\r\n            <div className=\"mb-5 pb-1\">\r\n                {titleContent}\r\n            </div>\r\n            {errors}\r\n            {feedback}\r\n            {content}\r\n        </>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({ ...state });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onAuth: data => dispatch(authAdminVerify(data)),\r\n    onSetHash: hash => dispatch(setHash(hash)),\r\n    onResendCode: hash => dispatch(resendCode(hash))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Verify);"],"names":["Verify","Component","__publicField","name","value","hash","history","onSetHash","code","enter","verification_code","didnt_receive_code","resend","continue_","loading","error","message","onResendCode","formContent","titleContent","jsxs","jsx","Fragment","Input","FormGroup","errors","Error","feedback","Feedback","content","Preloader","Form","mapStateToProps","state","mapDispatchToProps","dispatch","data","authAdminVerify","setHash","resendCode","index","connect"],"mappings":"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"}