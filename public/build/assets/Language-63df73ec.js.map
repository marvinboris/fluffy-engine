{"version":3,"file":"Language-63df73ec.js","sources":["../../../resources/ts/src/containers/Backend/Manager/Settings/Language.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n// Components\r\nimport Loading from '../../../../components/UI/Preloaders/Loading';\r\n\r\nimport Error from '../../../../components/Messages/Error';\r\nimport Feedback from '../../../../components/Messages/Feedback';\r\n\r\nimport Form from '../../../../components/Backend/UI/Form';\r\nimport Save from '../../../../components/Backend/UI/Form/Save';\r\nimport PageTitle from '../../../../components/Backend/UI/Title/PageTitle';\r\nimport Breadcrumb from '../../../../components/Backend/UI/Title/Breadcrumb';\r\n\r\nimport Input from '../../../../components/UI/Input';\r\n\r\nimport { backendLanguage } from '../../../../store/actions/content';\r\n\r\nclass Edit extends Component {\r\n    state = {\r\n        id: '',\r\n        abbr: localStorage.getItem('backend_lang'),\r\n        isMounted: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        const language = this.props.content.languages.find(l => l.abbr === this.state.abbr);\r\n        this.setState({ isMounted: true, id: language.id });\r\n    }\r\n\r\n    saveHandler = e => {\r\n        e.preventDefault();\r\n        this.props.post(this.state.id);\r\n    }\r\n\r\n    inputChangeHandler = e => {\r\n        const { name, value, files } = e.target;\r\n        if (name === 'abbr') {\r\n            const language = this.props.content.languages.find(l => l.abbr === value);\r\n            return this.setState({ id: language.id, abbr: value });\r\n        }\r\n        this.setState({ [name]: files ? files[0] : value });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            content: {\r\n                cms: {\r\n                    pages: { backend: { pages: { settings: { title, language: { title: title_, icon, form } } } } }\r\n                }, languages\r\n            },\r\n            backend: { settings: { loading, error, message } },\r\n            auth: { role }\r\n        } = this.props;\r\n        const { id, abbr } = this.state;\r\n\r\n        if (!this.state.isMounted) document.title = `${this.props.content.cms.pages.backend.sidebar.menu.settings.language} | ${document.head.querySelector('meta[name=\"base-title\"]').content}`;\r\n\r\n        const languagesOptions = languages.sort((a, b) => a.name > b.name).map(item => <option key={item.name} value={item.abbr}>{item.name}</option>);\r\n\r\n        const content = <div className='col-lg-9'>\r\n            <div className=\"row\">\r\n                <input type=\"hidden\" name=\"id\" value={id} />\r\n                <Input type=\"select\" className=\"col-md-6\" onChange={this.inputChangeHandler} value={abbr} name=\"abbr\" required label={form.select_language}>\r\n                    <option>{form.select_language}</option>\r\n                    {languagesOptions}\r\n                </Input>\r\n\r\n                <Save edit={true} />\r\n            </div>\r\n        </div>;\r\n\r\n        return <div className='Settings Language'>\r\n            <PageTitle title={title} subtitle={title_} icon={icon}>\r\n                <Breadcrumb main={title_} />\r\n            </PageTitle>\r\n\r\n            <Loading loading={this.state.isMounted && loading} isAuthenticated>\r\n                <div className='content'>\r\n                    <Error err={error} />\r\n                    <Feedback message={message} />\r\n                    <Form onSubmit={this.saveHandler} icon={icon} title={title_} link={`/${role}/settings`} innerClassName=\"row\">\r\n                        {content}\r\n                    </Form>\r\n                </div>\r\n            </Loading>\r\n        </div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({ ...state });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    post: id => dispatch(backendLanguage(id)),\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Edit));"],"names":["Edit","Component","__publicField","name","value","files","language","l","title","title_","icon","form","languages","loading","error","message","role","id","abbr","languagesOptions","a","b","item","jsx","content","jsxs","Input","Save","PageTitle","Breadcrumb","Loading","Error","Feedback","Form","mapStateToProps","state","mapDispatchToProps","dispatch","backendLanguage","Language","withRouter","connect"],"mappings":"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"}