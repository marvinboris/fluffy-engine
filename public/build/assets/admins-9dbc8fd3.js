import{aA as w,aB as d,aC as y,aD as A}from"./app-1ba2be60.js";const i="/api/",$=()=>({type:w}),m=()=>({type:d}),h=s=>({type:y,...s}),g=s=>({type:A,error:s}),f=(s=1,e=10,a="")=>async(n,t)=>{n(m());const{role:r}=t().auth;try{const o=localStorage.getItem("token"),l=await(await fetch(`${i+r}/admins?page=${s}&show=${e}&search=${a}`,{headers:{Authorization:o}})).json();n(h(l))}catch(o){console.log(o),n(g(o))}},D=s=>async(e,a)=>{e(m());const{role:n}=a().auth;try{const t=localStorage.getItem("token"),o=await(await fetch(`${i+n}/admins/${s}`,{headers:{Authorization:t}})).json();e(h(o))}catch(t){console.log(t),e(g(t))}},E=s=>async(e,a)=>{e(m());const{role:n}=a().auth;try{const t=localStorage.getItem("token"),r=new FormData(s),o=await fetch(`${i+n}/admins`,{method:"POST",body:r,headers:{Authorization:t}}),c=await o.json();if(o.status===422)throw new Error(Object.values(c.errors).join(`
`));if(o.status!==200&&o.status!==201)throw new Error(c.error.message);e(h(c))}catch(t){console.log(t),e(g(t))}},I=(s,e)=>async(a,n)=>{a(m());const{role:t}=n().auth;try{const r=localStorage.getItem("token"),o=new FormData(e),c=await fetch(`${i+t}/admins/${s}`,{method:"POST",body:o,headers:{Authorization:r}}),l=await c.json();if(c.status===422)throw new Error(Object.values(l.errors).join(`
`));a(h(l))}catch(r){console.log(r),a(g(r))}},j=s=>async(e,a)=>{e(m());const{role:n}=a().auth;try{const t=document.getElementById("table-page").value,r=document.getElementById("table-show").value,o=document.getElementById("table-search").value,c=localStorage.getItem("token"),l=await fetch(`${i+n}/admins/${s}?page=${t}&show=${r}&search=${o}`,{method:"DELETE",headers:{Authorization:c}}),u=await l.json();if(l.status===422)throw new Error(Object.values(u.errors).join(`
`));e(h(u))}catch(t){console.log(t),e(g(t))}};export{D as a,I as b,j as d,f as g,E as p,$ as r};
//# sourceMappingURL=admins-9dbc8fd3.js.map
