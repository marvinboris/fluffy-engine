{"version":3,"file":"contact-47d30a48.js","sources":["../../../resources/ts/src/components/Frontend/UI/Form/index.jsx","../../../resources/ts/src/store/actions/frontend/contact.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './Form.scss';\r\n\r\nclass Form extends Component {\r\n    render() {\r\n        const {\r\n            content: { cms: { pages: { frontend: { components: { form } } } } },\r\n            loading, children, onSubmit\r\n        } = this.props;\r\n\r\n        return <form className='UI Form' onSubmit={onSubmit}>\r\n            {loading && <div className='loading'>\r\n                <div>{form.loading}</div>\r\n            </div>}\r\n\r\n            {children}\r\n        </form>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({ ...state });\r\n\r\nexport default connect(mapStateToProps)(Form);","import * as actionTypes from '../actionTypes';\r\n\r\nconst prefix = '/api/';\r\n\r\nexport const resetContact = () => ({ type: actionTypes.CONTACT_RESET });\r\nconst contactStart = () => ({ type: actionTypes.CONTACT_START });\r\nconst contactSuccess = data => ({ type: actionTypes.CONTACT_SUCCESS, ...data });\r\nconst contactFail = error => ({ type: actionTypes.CONTACT_FAIL, error });\r\nexport const postContact = data => async dispatch => {\r\n    dispatch(contactStart());\r\n\r\n    try {\r\n        const form = new FormData(data);\r\n        const res = await fetch(`${prefix}contact?frontend_lang=${localStorage.getItem('frontend_lang')}`, {\r\n            method: 'POST',\r\n            body: form,\r\n        });\r\n        const resData = await res.json();\r\n        if (res.status === 422) throw new Error(Object.values(resData.errors).join('\\n'));\r\n        else if (res.status !== 200 && res.status !== 201) throw new Error(resData.error.message);\r\n\r\n        dispatch(contactSuccess(resData));\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch(contactFail(error));\r\n    }\r\n}"],"names":["Form","Component","form","loading","children","onSubmit","jsxs","jsx","mapStateToProps","state","Form$1","connect","prefix","resetContact","actionTypes.CONTACT_RESET","contactStart","actionTypes.CONTACT_START","contactSuccess","data","actionTypes.CONTACT_SUCCESS","contactFail","error","actionTypes.CONTACT_FAIL","postContact","dispatch","res","resData"],"mappings":"2FAKA,MAAMA,UAAaC,EAAAA,SAAU,CACzB,QAAS,CACC,KAAA,CACF,QAAS,CAAE,IAAK,CAAE,MAAO,CAAE,SAAU,CAAE,WAAY,CAAE,KAAAC,EAAO,CAAA,EAAM,EAClE,QAAAC,EAAS,SAAAC,EAAU,SAAAC,CAAA,EACnB,KAAK,MAET,OAAQC,EAAA,OAAA,CAAK,UAAU,UAAU,SAAAD,EAC5B,SAAA,CAAWF,GAAAI,EAAC,OAAI,UAAU,UACvB,WAAC,MAAK,CAAA,SAAAL,EAAK,QAAQ,CACvB,CAAA,EAECE,CACL,CAAA,CAAA,CACJ,CACJ,CAEA,MAAMI,EAAkBC,IAAU,CAAE,GAAGA,CAAM,GAE7CC,EAAeC,EAAQH,CAAe,EAAER,CAAI,ECtBtCY,EAAS,QAEFC,EAAe,KAAO,CAAE,KAAMC,IACrCC,EAAe,KAAO,CAAE,KAAMC,CAA2B,GACzDC,EAAiBC,IAAS,CAAE,KAAMC,EAA6B,GAAGD,CAAI,GACtEE,EAAcC,IAAU,CAAE,KAAMC,EAA0B,MAAAD,CAAO,GAC1DE,EAAcL,GAAQ,MAAMM,GAAY,CACjDA,EAAST,EAAY,CAAE,EAEvB,GAAI,CACA,MAAMb,EAAO,IAAI,SAASgB,CAAI,EACxBO,EAAM,MAAM,MAAM,GAAGb,0BAA+B,aAAa,QAAQ,eAAe,IAAK,CAC/F,OAAQ,OACR,KAAMV,CAClB,CAAS,EACKwB,EAAU,MAAMD,EAAI,OAC1B,GAAIA,EAAI,SAAW,IAAK,MAAM,IAAI,MAAM,OAAO,OAAOC,EAAQ,MAAM,EAAE,KAAK;AAAA,CAAI,CAAC,EAC3E,GAAID,EAAI,SAAW,KAAOA,EAAI,SAAW,IAAK,MAAM,IAAI,MAAMC,EAAQ,MAAM,OAAO,EAExFF,EAASP,EAAeS,CAAO,CAAC,CACnC,OAAQL,EAAP,CACE,QAAQ,IAAIA,CAAK,EACjBG,EAASJ,EAAYC,CAAK,CAAC,CAC9B,CACL"}