{"version":3,"file":"index-66ebc73e.js","sources":["../../../resources/ts/src/containers/Auth/User/Login/index.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Form, Col } from 'reactstrap';\r\n\r\nimport Error from '../../../../components/Messages/Error';\r\nimport Feedback from '../../../../components/Messages/Feedback';\r\n\r\nimport NormalInput from '../../../../components/UI/Input';\r\nimport Preloader from '../../../../components/UI/Preloaders/Preloader';\r\n\r\nimport { authUserLogin, setHash } from '../../../../store/actions/auth';\r\n\r\nconst Input = props => <NormalInput {...props} />\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n\r\n        visible: false,\r\n    }\r\n\r\n\r\n\r\n    // Component methods\r\n    toggle = () => {\r\n        this.setState(prevState => ({ modal: !prevState.modal }));\r\n    }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault();\r\n        this.props.onAuth(e.target);\r\n    }\r\n\r\n    inputChangeHandler = e => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    eyeClickedHandler = () => this.setState(prevState => ({ visible: !prevState.visible }))\r\n\r\n\r\n\r\n    // Lifecycle methods\r\n    componentDidMount() {\r\n        document.title = `${this.props.content.cms.pages.auth.pages.user.login.sign_in} | ${document.head.querySelector('meta[name=\"base-title\"]').content}`;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const { auth: { hash }, onSetHash, history } = this.props;\r\n        if (hash) {\r\n            onSetHash(hash);\r\n            history.push('/auth/verify');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { email, password, visible } = this.state;\r\n        const {\r\n            content: {\r\n                cms: {\r\n                    pages: { auth: { pages: { user: { login } } } }\r\n                }\r\n            },\r\n            auth: { loading, error, message },\r\n        } = this.props;\r\n\r\n        const titleContent = <div className={`text-37 text-${window.APP_SECONDARY_COLOR} title`}>{login.title}</div>;\r\n\r\n        const formContent = <>\r\n            <Input type=\"email\" icon=\"key\" onChange={this.inputChangeHandler} validation={{ required: true }} value={email} name=\"email\" required placeholder={login.email_address} />\r\n            <Input id=\"password\" type={visible ? \"text\" : \"password\"} className=\"position-relative\" icon=\"lock\" onChange={this.inputChangeHandler} validation={{ required: true }} value={password} name=\"password\" required placeholder={login.password}\r\n                bonus={<div className=\"position-absolute d-flex align-items-center\" style={{ height: '100%', top: 0, right: 30, zIndex: 10, cursor: 'pointer' }} onClick={this.eyeClickedHandler}>\r\n                    <div className=\"position-relative\">\r\n                        <i className={`fas fa-eye text-${window.APP_SECONDARY_COLOR}`} />\r\n\r\n                        <div style={!visible ? { visibility: 'visible' } : { visibility: 'hidden' }}>\r\n                            <div style={{ height: 1.5, width: 24, transform: 'rotate(30deg) translate(-9.5px, -12px)' }} className={`bg-${window.APP_SECONDARY_COLOR}`} />\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            />\r\n\r\n            <div className=\"mt-5 pt-1 pb-2\">\r\n                <button className={`btn-block btn btn-${window.APP_PRIMARY_COLOR}`}>{login.sign_in}<i className='fas fa-sign-in-alt' /></button>\r\n            </div>\r\n        </>;\r\n\r\n\r\n        const errors = <Error err={error} />;\r\n        const feedback = <Feedback message={message} />;\r\n        let content = null;\r\n\r\n        if (loading) content = <div className=\"h-100 d-flex justify-content-center align-items-center\"><Preloader /></div>;\r\n        else content = <Form onSubmit={this.submitHandler}>\r\n            {formContent}\r\n        </Form>;\r\n\r\n        return <>\r\n            <div className=\"mb-5 pb-1\">\r\n                {titleContent}\r\n            </div>\r\n            {errors}\r\n            {feedback}\r\n            {content}\r\n        </>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({ ...state });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onAuth: data => dispatch(authUserLogin(data)),\r\n    onSetHash: hash => dispatch(setHash(hash))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"],"names":["Input","props","jsx","NormalInput","Login","Component","__publicField","prevState","name","value","hash","onSetHash","history","email","password","visible","login","loading","error","message","titleContent","formContent","jsxs","Fragment","errors","Error","feedback","Feedback","content","Preloader","Form","mapStateToProps","state","mapDispatchToProps","dispatch","data","authUserLogin","setHash","index","connect"],"mappings":"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"}