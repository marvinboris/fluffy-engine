{"version":3,"file":"Add-10c77cbc.js","sources":["../../../resources/ts/src/containers/Backend/Manager/Languages/Add.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n// Components\r\nimport Save from '../../../../components/Backend/UI/Form/Save';\r\n\r\nimport Input from '../../../../components/UI/Input';\r\n\r\nimport actions from '../../../../store/actions/backend/languages';\r\nimport * as utility from '../utility';\r\n\r\nconst initialState = {\r\n    name: '',\r\n    abbr: '',\r\n    flag: '',\r\n\r\n    add: false,\r\n}\r\n\r\nclass Add extends Component {\r\n    state = { ...initialState, isMounted: false }\r\n\r\n    // Component methods\r\n    resetState = () => this.setState({ ...initialState })\r\n    saveAddHandler = () => utility.add.component.saveAddHandler(this.setState.bind(this), this.props)\r\n    inputChangeHandler = e => utility.add.component.inputChangeHandler(this.state, this.setState.bind(this))(e)\r\n\r\n    // Lifecycle methods\r\n    componentDidMount() { utility.add.lifecycle.componentDidMount(this.props, this.setState.bind(this)) }\r\n    componentDidUpdate(prevProps) { utility.add.lifecycle.componentDidUpdate('languages', 'language')(prevProps, this.props, this.state, this.setState.bind(this), this.resetState) }\r\n    componentWillUnmount() { this.props.reset() }\r\n    render() {\r\n        const {\r\n            content: {\r\n                cms: {\r\n                    pages: { backend: { pages: { languages: { form } } } }\r\n                },\r\n                countries,\r\n            },\r\n        } = this.props;\r\n        const { name, abbr, flag } = this.state;\r\n\r\n        const countriesOptions = countries.map(({ country, code, name }) => <option key={country} value={country} code={code}>{name}</option>);\r\n\r\n        const content = <>\r\n            {this.props.edit && <input type=\"hidden\" name=\"_method\" defaultValue=\"PATCH\" />}\r\n\r\n            <div className='row'>\r\n                <div className=\"col-lg-9\">\r\n                    <div className='row'>\r\n                        <Input type=\"text\" className=\"col-md-6\" onChange={this.inputChangeHandler} value={name} name=\"name\" required label={form.name} />\r\n                        <Input type=\"text\" className=\"col-md-6\" onChange={this.inputChangeHandler} value={abbr} name=\"abbr\" required label={form.abbr} />\r\n                        <Input className=\"col-md-6\" type=\"select\" addon={<span className=\"text-secondary text-small d-inline-flex\">\r\n                            <div className=\"rounded-circle overflow-hidden position-relative d-flex justify-content-center align-items-center\" style={{ width: 30, height: 30 }}>\r\n                                <span className={`flag-icon text-xx-large position-absolute flag-icon-${flag.toLowerCase()}`} />\r\n                            </div>\r\n                        </span>} onChange={this.inputChangeHandler} value={flag} validation={{ required: true }} name=\"flag\" required label={form.select_flag}>\r\n                            <option>{form.select_flag}</option>\r\n                            {countriesOptions}\r\n                        </Input>\r\n                    </div>\r\n                </div>\r\n\r\n                <Save edit={this.props.edit} saveAddHandler={this.saveAddHandler} />\r\n            </div>\r\n        </>;\r\n\r\n        return <utility.add.lifecycle.render className='Languages' props={this.props} state={this.state} resource={'languages'}>\r\n            {content}\r\n        </utility.add.lifecycle.render>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({ ...state });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    get: id => dispatch(actions.show(id)),\r\n    post: data => dispatch(actions.post(data)),\r\n    patch: (id, data) => dispatch(actions.patch(id, data)),\r\n    reset: () => dispatch(actions.reset()),\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Add));"],"names":["initialState","Add","Component","__publicField","utility.add","prevProps","form","countries","name","abbr","flag","countriesOptions","country","code","jsx","content","jsxs","Fragment","Input","Save","mapStateToProps","state","mapDispatchToProps","dispatch","id","actions","data","Add$1","withRouter","connect"],"mappings":"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"}