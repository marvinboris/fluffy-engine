var O=Object.defineProperty;var T=(t,s,a)=>s in t?O(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var N=(t,s,a)=>(T(t,typeof s!="symbol"?s+"":s,a),a);import{j as e,d as m,aW as P,aX as v,aY as F,aZ as w,w as L,b as R,r as $,u as I,F as E,L as M}from"./app-cf996866.js";import{B as C}from"./Table-3fca71a0.js";import{S as D}from"./index-ec48fe7f.js";const q=({fields:t,array:s,limit:a,bordered:h,dark:f=!1,sl:r=!0,borderless:c,innerClassName:p="",outerClassName:l="",select:n,children:b,selectHandler:x})=>{const u=t.map(({name:o})=>e("th",{className:"align-middle text-nowrap",children:o},o));r&&u.unshift(e("th",{className:"text-center align-middle",children:"SL"},"#")),n&&u.unshift(e("th",{className:"align-middle text-center",children:e("input",{type:"checkbox",onClick:x,className:"select_all"})},"select_all"));const k=s.map((o,i)=>{if(a&&i>=a)return null;let d=[];return r&&d.push(e("th",{className:"text-center align-middle",children:i+1},"primary"+i)),n&&d.unshift(e("th",{className:"text-center align-middle",children:e("input",{type:"checkbox",value:o._id})},"white"+i)),t.forEach(({key:g,minWidth:S,maxWidth:_,className:y})=>{d.push(e("td",{className:`align-middle text-nowrap text-truncate${y&&` ${y}`}`,style:{minWidth:S,maxWidth:_},children:o[g]},g))}),e("tr",{className:"align-middle",children:d},i+1)});return e("div",{className:`pb-4 text-16 ${l}`,children:m("div",{className:"flex-fill d-flex flex-column",children:[e("div",{className:"table-responsive flex-fill",children:m(C,{dark:f,bordered:h,hover:!0,borderless:c,className:"text-reset "+p,children:[e("thead",{children:e("tr",{children:u})}),e("tbody",{children:k})]})}),e("div",{className:"pt-3",children:b})]})})},A="/api/",B=()=>({type:P}),U=()=>({type:v}),W=t=>({type:F,...t}),Y=t=>({type:w,error:t}),J=()=>async t=>{t(U());try{const a=await(await fetch(`${A}portfolio`)).json();t(W(a))}catch(s){console.log(s),t(Y(s))}};class X extends $.Component{constructor(){super(...arguments);N(this,"state",{isMounted:!1})}componentDidMount(){this.props.get(),this.setState({isMounted:!0})}componentWillUnmount(){this.props.reset()}render(){const{content:{cms:{pages:{frontend:{pages:{portfolio:a}}}}},frontend:{portfolio:{loading:h,projects:f=[]}}}=this.props,{isMounted:r}=this.state,c=localStorage.getItem("frontend_lang");this.state.isMounted||(document.title=`${this.props.content.cms.pages.frontend.header.menu.portfolio} | ${document.head.querySelector('meta[name="base-title"]').content}`,document.querySelector("meta[name=description]").content=a.head);const p=f.map(l=>I(l,{year:new Date(l.date).getFullYear(),title:l.title[c],made_at:l.made_at[c]||l.made_at,technologies:l.technologies.map(n=>e("span",{className:"technology",children:n.name},JSON.stringify(n))),links:m(E,{children:[l.github&&e("a",{href:l.github,target:"_blank",className:"fab fa-github"}),l.link&&e("a",{href:l.link,target:"_blank",className:"fas fa-external-link-alt"})]})}));return e(M,{loading:r&&h,children:e("div",{className:"Portfolio",children:e("section",{className:"portfolio",children:m("div",{className:"container",children:[e(D,{...a}),e(q,{dark:!0,borderless:!0,sl:!1,array:p,fields:[{name:a.table.year,key:"year",className:"year"},{name:a.table.title,key:"title",className:"title"},{name:a.table.made_at,key:"made_at"},{name:a.table.technologies,key:"technologies",className:"technologies"},{name:a.table.links,key:"links",className:"links"}]})]})})})})}}const Z=t=>({...t}),z=t=>({get:()=>t(J()),reset:()=>t(B())}),V=L(R(Z,z)(X));export{V as default};
//# sourceMappingURL=index-93373197.js.map
