{"version":3,"file":"Add-ba55df96.js","sources":["../../../resources/ts/src/containers/Backend/Manager/Experiences/Add.jsx"],"sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n// Components\r\nimport Save from '../../../../components/Backend/UI/Form/Save';\r\n\r\nimport Input from '../../../../components/UI/Input';\r\n\r\nimport actions from '../../../../store/actions/backend/experiences';\r\nimport * as utility from '../utility';\r\n\r\nconst initialState = {\r\n    title: {},\r\n    company: {},\r\n    description: {},\r\n    start_year: '',\r\n    end_year: '',\r\n\r\n    translate: import.meta.env.VITE_DEFAULT_LANG,\r\n\r\n    add: false,\r\n}\r\n\r\nclass Add extends Component {\r\n    state = { ...initialState, isMounted: false }\r\n\r\n    // Component methods\r\n    resetState = () => this.setState({ ...initialState })\r\n    saveAddHandler = () => utility.add.component.saveAddHandler(this.setState.bind(this), this.props)\r\n    inputChangeHandler = e => utility.add.component.inputChangeHandler(this.state, this.setState.bind(this))(e)\r\n\r\n    // Lifecycle methods\r\n    componentDidMount() { utility.add.lifecycle.componentDidMount(this.props, this.setState.bind(this)) }\r\n    componentDidUpdate(prevProps) { utility.add.lifecycle.componentDidUpdate('experiences', 'experience')(prevProps, this.props, this.state, this.setState.bind(this), this.resetState) }\r\n    componentWillUnmount() { this.props.reset() }\r\n    render() {\r\n        const {\r\n            content: {\r\n                cms: {\r\n                    pages: { backend: { pages: { experiences: { form } } } }\r\n                }\r\n            },\r\n        } = this.props;\r\n        const { title, company, description, start_year, end_year, translate } = this.state;\r\n\r\n        const languagesOptions = languages.map(language => <option key={JSON.stringify(language)} value={language.abbr}>{language.name}</option>);\r\n\r\n        const content = <>\r\n            {this.props.edit && <input type=\"hidden\" name=\"_method\" defaultValue=\"PATCH\" />}\r\n\r\n            <div className='row'>\r\n                <div className=\"col-lg-9\">\r\n                    <div className=\"row\">\r\n                        {languages.map(l => <Fragment key={'language-' + l.abbr}>\r\n                            <Input type=\"text\" id={\"title-\" + l.abbr} className={\"col-lg-6\" + (l.abbr === translate ? \"\" : \" d-none\")} onChange={this.inputChangeHandler} value={title[l.abbr]} name={\"title[\" + l.abbr + \"]\"} required label={form.title} />\r\n                            <Input type=\"text\" id={\"company-\" + l.abbr} className={\"col-lg-6\" + (l.abbr === translate ? \"\" : \" d-none\")} onChange={this.inputChangeHandler} value={company[l.abbr]} name={\"company[\" + l.abbr + \"]\"} required label={form.company} />\r\n                            <Input type=\"textarea\" id={\"description-\" + l.abbr} className={\"col-12\" + (l.abbr === translate ? \"\" : \" d-none\")} onChange={this.inputChangeHandler} value={description[l.abbr]} name={\"description[\" + l.abbr + \"]\"} required label={form.description} />\r\n                        </Fragment>)}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-lg-3\">\r\n                    <Input type=\"select\" name=\"translate\" label={form.language} onChange={this.inputChangeHandler} value={translate}>\r\n                        {languagesOptions}\r\n                    </Input>\r\n                </div>\r\n\r\n                <div className=\"col-12 mb-3\">\r\n                    <hr />\r\n                </div>\r\n\r\n                <div className=\"col-lg-9\">\r\n                    <div className='row'>\r\n                        <Input type=\"number\" className=\"col-lg-6\" onChange={this.inputChangeHandler} name=\"start_year\" value={start_year} required label={form.start_year} />\r\n                        <Input type=\"number\" className=\"col-lg-6\" onChange={this.inputChangeHandler} name=\"end_year\" value={end_year} required label={form.end_year} />\r\n                    </div>\r\n                </div>\r\n\r\n                <Save edit={this.props.edit} saveAddHandler={this.saveAddHandler} />\r\n            </div>\r\n        </>;\r\n\r\n        return <utility.add.lifecycle.render className='Experiences' props={this.props} state={this.state} resource={'experiences'}>\r\n            {content}\r\n        </utility.add.lifecycle.render>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({ ...state });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    get: id => dispatch(actions.show(id)),\r\n    post: data => dispatch(actions.post(data)),\r\n    patch: (id, data) => dispatch(actions.patch(id, data)),\r\n    reset: () => dispatch(actions.reset()),\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Add));"],"names":["initialState","Add","Component","__publicField","utility.add","prevProps","form","title","company","description","start_year","end_year","translate","languagesOptions","language","content","jsxs","Fragment","jsx","l","Input","Save","mapStateToProps","state","mapDispatchToProps","dispatch","id","actions","data","Add$1","withRouter","connect"],"mappings":"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"}