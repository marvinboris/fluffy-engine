var x=Object.defineProperty;var C=(a,t,e)=>t in a?x(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var n=(a,t,e)=>(C(a,typeof t!="symbol"?t+"":t,e),e);import{w as S,b as H,r as N,j as s,d as o,F as y}from"./app-83f3b383.js";import{S as w}from"./index-514c2535.js";import{I as l}from"./index-19bf36b2.js";import{a as r}from"./languages-cde99b50.js";import{a as i}from"./utility-e8156fec.js";import"./Input-d3b83963.js";import"./index-eb8233ec.js";import"./index-e1f918ea.js";import"./Form-713bcef4.js";import"./index-e86ffdb2.js";import"./Table-c89ba9fc.js";import"./index-a0bb7abd.js";const c={name:"",abbr:"",flag:"",add:!1};class A extends N.Component{constructor(){super(...arguments);n(this,"state",{...c,isMounted:!1});n(this,"resetState",()=>this.setState({...c}));n(this,"saveAddHandler",()=>i.component.saveAddHandler(this.setState.bind(this),this.props));n(this,"inputChangeHandler",e=>i.component.inputChangeHandler(this.state,this.setState.bind(this))(e))}componentDidMount(){i.lifecycle.componentDidMount(this.props,this.setState.bind(this))}componentDidUpdate(e){i.lifecycle.componentDidUpdate("languages","language")(e,this.props,this.state,this.setState.bind(this),this.resetState)}componentWillUnmount(){this.props.reset()}render(){const{content:{cms:{pages:{backend:{pages:{languages:{form:e}}}}},countries:m}}=this.props,{name:h,abbr:u,flag:d}=this.state,g=m.map(({country:p,code:b,name:v})=>s("option",{value:p,code:b,children:v},p)),f=o(y,{children:[this.props.edit&&s("input",{type:"hidden",name:"_method",defaultValue:"PATCH"}),o("div",{className:"row",children:[s("div",{className:"col-lg-9",children:o("div",{className:"row",children:[s(l,{type:"text",className:"col-md-6",onChange:this.inputChangeHandler,value:h,name:"name",required:!0,label:e.name}),s(l,{type:"text",className:"col-md-6",onChange:this.inputChangeHandler,value:u,name:"abbr",required:!0,label:e.abbr}),o(l,{className:"col-md-6",type:"select",addon:s("span",{className:"text-secondary text-small d-inline-flex",children:s("div",{className:"rounded-circle overflow-hidden position-relative d-flex justify-content-center align-items-center",style:{width:30,height:30},children:s("span",{className:`flag-icon text-xx-large position-absolute flag-icon-${d.toLowerCase()}`})})}),onChange:this.inputChangeHandler,value:d,validation:{required:!0},name:"flag",required:!0,label:e.select_flag,children:[s("option",{children:e.select_flag}),g]})]})}),s(w,{edit:this.props.edit,saveAddHandler:this.saveAddHandler})]})]});return s(i.lifecycle.render,{className:"Languages",props:this.props,state:this.state,resource:"languages",children:f})}}const D=a=>({...a}),j=a=>({get:t=>a(r.show(t)),post:t=>a(r.post(t)),patch:(t,e)=>a(r.patch(t,e)),reset:()=>a(r.reset())}),R=S(H(D,j)(A));export{R as default};
//# sourceMappingURL=Add-f1ac5e82.js.map
