var C=Object.defineProperty;var w=(s,a,e)=>a in s?C(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e;var n=(s,a,e)=>(w(s,typeof a!="symbol"?a+"":a,e),e);import{b as x,r as y,j as t,d as l,F as c,aF as N,aG as P}from"./app-b00405aa.js";import{F as O}from"./Form-f87cc336.js";import{E as S,F as _}from"./index-4cf95d9b.js";import{I as A}from"./index-7ae38b98.js";import{P as H}from"./index-862646c2.js";import"./Input-9e8e60f5.js";/* empty css                  */const m=s=>t(A,{...s});class R extends y.Component{constructor(){super(...arguments);n(this,"state",{email:"",password:"",visible:!1});n(this,"toggle",()=>{this.setState(e=>({modal:!e.modal}))});n(this,"submitHandler",e=>{e.preventDefault(),this.props.onAuth(e.target)});n(this,"inputChangeHandler",e=>{const{name:o,value:i}=e.target;this.setState({[o]:i})});n(this,"eyeClickedHandler",()=>this.setState(e=>({visible:!e.visible})))}componentDidMount(){document.title=`${this.props.content.cms.pages.auth.pages.user.login.sign_in} | ${document.head.querySelector('meta[name="base-title"]').content}`}componentDidUpdate(){const{auth:{hash:e},onSetHash:o,history:i}=this.props;e&&(o(e),i.push("/auth/verify"))}render(){const{email:e,password:o,visible:i}=this.state,{content:{cms:{pages:{auth:{pages:{user:{login:r}}}}}},auth:{loading:p,error:h,message:u}}=this.props,g=t("div",{className:`text-37 text-${window.APP_SECONDARY_COLOR} title`,children:r.title}),b=l(c,{children:[t(m,{type:"email",icon:"key",onChange:this.inputChangeHandler,validation:{required:!0},value:e,name:"email",required:!0,placeholder:r.email_address}),t(m,{id:"password",type:i?"text":"password",className:"position-relative",icon:"lock",onChange:this.inputChangeHandler,validation:{required:!0},value:o,name:"password",required:!0,placeholder:r.password,bonus:t("div",{className:"position-absolute d-flex align-items-center",style:{height:"100%",top:0,right:30,zIndex:10,cursor:"pointer"},onClick:this.eyeClickedHandler,children:l("div",{className:"position-relative",children:[t("i",{className:`fas fa-eye text-${window.APP_SECONDARY_COLOR}`}),t("div",{style:i?{visibility:"hidden"}:{visibility:"visible"},children:t("div",{style:{height:1.5,width:24,transform:"rotate(30deg) translate(-9.5px, -12px)"},className:`bg-${window.APP_SECONDARY_COLOR}`})})]})})}),t("div",{className:"mt-5 pt-1 pb-2",children:l("button",{className:`btn-block btn btn-${window.APP_PRIMARY_COLOR}`,children:[r.sign_in,t("i",{className:"fas fa-sign-in-alt"})]})})]}),v=t(S,{err:h}),f=t(_,{message:u});let d=null;return p?d=t("div",{className:"h-100 d-flex justify-content-center align-items-center",children:t(H,{})}):d=t(O,{onSubmit:this.submitHandler,children:b}),l(c,{children:[t("div",{className:"mb-5 pb-1",children:g}),v,f,d]})}}const k=s=>({...s}),D=s=>({onAuth:a=>s(N(a)),onSetHash:a=>s(P(a))}),M=x(k,D)(R);export{M as default};
//# sourceMappingURL=index-66ebc73e.js.map
