var k=Object.defineProperty;var N=(a,s,e)=>s in a?k(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e;var l=(a,s,e)=>(N(a,typeof s!="symbol"?s+"":s,e),e);import{w as x,b as C,r as L,j as t,d as c,L as M,t as w}from"./app-297e02ac.js";import{E,F}from"./index-9f59e246.js";import{F as H}from"./index-84049355.js";import{S as P}from"./index-7257daae.js";import{P as _,B as j}from"./index-c325659d.js";import{I as y}from"./index-db98c2c6.js";import"./Form-58a21dac.js";import"./Input-31415e5f.js";class D extends L.Component{constructor(){super(...arguments);l(this,"state",{id:"",abbr:localStorage.getItem("backend_lang"),isMounted:!1});l(this,"saveHandler",e=>{e.preventDefault(),this.props.post(this.state.id)});l(this,"inputChangeHandler",e=>{const{name:n,value:i,files:r}=e.target;if(n==="abbr"){const d=this.props.content.languages.find(g=>g.abbr===i);return this.setState({id:d.id,abbr:i})}this.setState({[n]:r?r[0]:i})})}componentDidMount(){const e=this.props.content.languages.find(n=>n.abbr===this.state.abbr);this.setState({isMounted:!0,id:e.id})}render(){const{content:{cms:{pages:{backend:{pages:{settings:{title:e,language:{title:n,icon:i,form:r}}}}}},languages:d},backend:{settings:{loading:g,error:m,message:u}},auth:{role:p}}=this.props,{id:h,abbr:b}=this.state;this.state.isMounted||(document.title=`${this.props.content.cms.pages.backend.sidebar.menu.settings.language} | ${document.head.querySelector('meta[name="base-title"]').content}`);const f=d.sort((o,S)=>o.name>S.name).map(o=>t("option",{value:o.abbr,children:o.name},o.name)),v=t("div",{className:"col-lg-9",children:c("div",{className:"row",children:[t("input",{type:"hidden",name:"id",value:h}),c(y,{type:"select",className:"col-md-6",onChange:this.inputChangeHandler,value:b,name:"abbr",required:!0,label:r.select_language,children:[t("option",{children:r.select_language}),f]}),t(P,{edit:!0})]})});return c("div",{className:"Settings Language",children:[t(_,{title:e,subtitle:n,icon:i,children:t(j,{main:n})}),t(M,{loading:this.state.isMounted&&g,isAuthenticated:!0,children:c("div",{className:"content",children:[t(E,{err:m}),t(F,{message:u}),t(H,{onSubmit:this.saveHandler,icon:i,title:n,link:`/${p}/settings`,innerClassName:"row",children:v})]})})]})}}const I=a=>({...a}),T=a=>({post:s=>a(w(s))}),K=x(C(I,T)(D));export{K as default};
//# sourceMappingURL=Language-84c7a7f3.js.map
