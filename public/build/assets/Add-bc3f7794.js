var N=Object.defineProperty;var S=(t,a,e)=>a in t?N(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var o=(t,a,e)=>(S(t,typeof a!="symbol"?a+"":a,e),e);import{w as _,b as x,r as A,j as s,d as r,F as U}from"./app-297e02ac.js";import{S as j}from"./index-7257daae.js";import{I as n}from"./index-db98c2c6.js";/* empty css                  */import{a as p}from"./users-693ba4b9.js";import{a as i}from"./utility-d8d0b0df.js";import"./Input-31415e5f.js";import"./index-9f59e246.js";import"./index-84049355.js";import"./Form-58a21dac.js";import"./index-9c54aa32.js";import"./Table-ae2884d3.js";import"./index-c325659d.js";const d={name:"",phone:"",photo:null,email:"",password:"",password_confirmation:"",role_id:"",add:!1};class D extends A.Component{constructor(){super(...arguments);o(this,"state",{...d,isMounted:!1});o(this,"resetState",()=>this.setState({...d}));o(this,"saveAddHandler",()=>i.component.saveAddHandler(this.setState.bind(this),this.props));o(this,"inputChangeHandler",e=>i.component.inputChangeHandler(this.state,this.setState.bind(this))(e));o(this,"fileUpload",e=>i.component.fileUpload(e))}componentDidMount(){i.lifecycle.componentDidMount(this.props,this.setState.bind(this))}componentDidUpdate(e){i.lifecycle.componentDidUpdate("users","user")(e,this.props,this.state,this.setState.bind(this),this.resetState)}componentWillUnmount(){this.props.reset()}render(){const{content:{cms:{pages:{backend:{pages:{users:{form:e}}}}}},backend:{users:{roles:m=[],user:c={}}}}=this.props,{name:h,phone:u,photo:g,email:f,password:C,password_confirmation:v,role_id:w}=this.state,b=m.sort((l,H)=>l.name.localeCompare(H.name)).map(l=>s("option",{value:l.id,children:l.name},JSON.stringify(l))),y=r(U,{children:[this.props.edit&&s("input",{type:"hidden",name:"_method",defaultValue:"PATCH"}),r("div",{className:"row",children:[s("div",{className:"col-lg-9",children:r("div",{className:"row",children:[s(n,{type:"text",className:"col-lg-6",onChange:this.inputChangeHandler,value:h,name:"name",required:!0,label:e.name}),s(n,{type:"tel",className:"col-lg-6",addon:s("span",{className:"text-secondary text-small",children:"+237"}),onChange:this.inputChangeHandler,value:u,name:"phone",required:!0,label:e.phone}),s(n,{type:"password",className:"col-lg-6",onChange:this.inputChangeHandler,value:C,name:"password",label:e.password}),s(n,{type:"password",className:"col-lg-6",onChange:this.inputChangeHandler,value:v,name:"password_confirmation",label:e.password_confirmation}),s(n,{type:"email",className:"col-lg-6",onChange:this.inputChangeHandler,value:f,name:"email",label:e.email}),r(n,{type:"select",className:"col-lg-6",name:"role_id",label:e.role,onChange:this.inputChangeHandler,required:!0,value:w,children:[s("option",{children:e.select_role}),b]})]})}),s("div",{className:"col-lg-3",children:s(n,{type:"image",name:"photo",label:e.photo,onClick:()=>this.fileUpload("photo"),cms:e,defaultValue:c.photo,value:g})}),s(j,{edit:this.props.edit,saveAddHandler:this.saveAddHandler})]})]});return r(i.lifecycle.render,{className:"Users",props:this.props,state:this.state,resource:"users",children:[s("input",{type:"file",id:"photo",name:"photo",className:"d-none",onChange:this.inputChangeHandler,accept:".png,.jpg,.jpeg"}),y]})}}const k=t=>({...t}),q=t=>({get:a=>t(p.show(a)),info:()=>t(p.info()),post:a=>t(p.post(a)),patch:(a,e)=>t(p.patch(a,e)),reset:()=>t(p.reset())}),G=_(x(k,q)(D));export{G as default};
//# sourceMappingURL=Add-bc3f7794.js.map
